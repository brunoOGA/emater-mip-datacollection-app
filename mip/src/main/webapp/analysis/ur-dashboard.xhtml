<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                template="/WEB-INF/templates/template.xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions">

    <ui:define name="metadata">
        <ui:param name="title" value="Painel de Controle da UR XYZ"/> 
    </ui:define>

    <ui:define name="description">
        <!--Criar, alterar, listar e excluir regiÃµes-->
    </ui:define>

    <ui:define name="body">
        <h:form>

            <ui:include src="add-mip.xhtml"></ui:include>

            <p:growl showDetail="true" life="3000"></p:growl>

            <p:spacer height="15px"/>

            <div class="row" >
                <div class="col-md-12">
                    <p:panel id="box-colors-panel" header="Box Colors" styleClass="box-primary" toggleable="true" closable="true">

                        <f:facet name="actions">
                            <h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default"><h:outputText
                                    styleClass="ui-icon ui-icon-help"/></h:commandLink>
                            <h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default"><h:outputText
                                    styleClass="ui-icon ui-icon-star"/></h:commandLink>
                        </f:facet>

                        <div class="col-md-3">
                            <p:pieChart model="#{urDashboardController.getPieChart()}" style="width: 100%; height: 300px;"/>
                        </div>

                        <div class="col-md-7">
                            <p:lineChart model="#{urDashboardController.getLineChart()}" style="width: 100%; height: 300px;"/>
                        </div>

                    </p:panel>
                </div>
            </div>

            <p:spacer height="15px"/>

            <div class="row" >
                <div class="col-md-12">

                    <div class="col-md-4">
                        <p:panel header="MIP" styleClass="box-primary" >

                            <f:facet name="actions">
                                <button type="button" class="btn btn-primary fa fa-plus"  data-toggle="modal" data-target="#modal-default" style="border-radius: 25px; font-size: 17px; width: 30px;height: 30px;padding: 0px 0px 0px 1px;text-align: center;">
                                </button>
                            </f:facet>

                            <p:scrollPanel style="height:400px">
                                <ul class="timeline">

                                    <p:repeat value="#{urDashboardController.dates}" var="date">
                                        <li class="time-label">
                                            <span class="bg-blue">
                                                #{date}
                                            </span>
                                        </li>

                                        <li>
                                            <i class="fa fa-fw fa-bug bg-gray"></i>
                                            <div class="timeline-item">

                                                <span class="time">
                                                    <i class="fa fa-user"></i> John Doe
                                                    <i class="fa fa-calendar"></i> #{date}
                                                </span>

                                                <h3 class="timeline-header">
                                                    <a href="#">Support Team</a> ...
                                                </h3>

                                                <div class="timeline-body">
                                                    <p:panelGrid columns="2">
                                                        <p:outputLabel value="Lagartas"></p:outputLabel>
                                                        <p:outputLabel value="0,3"></p:outputLabel>

                                                        <p:outputLabel value="Percevejos"></p:outputLabel>
                                                        <p:outputLabel value="0,7"></p:outputLabel>
                                                    </p:panelGrid>
                                                </div>

                                                <div class="timeline-footer">
                                                    <a class="btn btn-warning btn-xs">Alterar</a>
                                                    <a class="btn btn-danger btn-xs">Excluir</a>
                                                </div>
                                            </div>
                                        </li>
                                    </p:repeat>

                                </ul>
                            </p:scrollPanel>

                        </p:panel>
                    </div>

                    <div class="col-md-8">
                        <p:panel header="MIP" styleClass="box-primary" >
                            <p:lineChart model="#{urDashboardController.getLineChart()}" style="width: 100%; height: 400px;"/>
                        </p:panel>
                    </div>
                </div>
            </div>

            <p:spacer height="15px"/>




            Survey id: #{urDashboardController.selectTargetSurvey(param['surveyId'])}

            Component: #{urDashboardController.getSurveyName()}
        </h:form>
    </ui:define>
</ui:composition>